<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1279px" preserveAspectRatio="none" style="width:3096px;height:1279px;" version="1.1" viewBox="0 0 3096 1279" width="3096px" zoomAndPan="magnify"><defs><filter height="300%" id="f1f3ojdigqat7j" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#DDDDDD" height="1205.1094" style="stroke: #A80036; stroke-width: 1.0;" width="593" x="479.5" y="63.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="749.5" y="75.6606">TPP API</text><rect fill="#DDDDDD" height="1205.1094" style="stroke: #A80036; stroke-width: 1.0;" width="800" x="1074.5" y="63.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="92" x="1428.5" y="75.6606">OPBA-Facade</text><rect fill="#DDDDDD" height="1205.1094" style="stroke: #A80036; stroke-width: 1.0;" width="1206.5" x="1876.5" y="63.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="99" x="2430.25" y="75.6606">XS2A-Protocol</text><rect fill="#FFFFFF" filter="url(#f1f3ojdigqat7j)" height="886.9844" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="357" y="235.2891"/><rect fill="#FFFFFF" filter="url(#f1f3ojdigqat7j)" height="828.7188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="570" y="264.4219"/><rect fill="#FFFFFF" filter="url(#f1f3ojdigqat7j)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="975" y="1034.875"/><rect fill="#FFFFFF" filter="url(#f1f3ojdigqat7j)" height="712.1875" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1131.5" y="293.5547"/><rect fill="#FFFFFF" filter="url(#f1f3ojdigqat7j)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1233.5" y="410.0859"/><rect fill="#FFFFFF" filter="url(#f1f3ojdigqat7j)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1233.5" y="598.8828"/><rect fill="#FFFFFF" filter="url(#f1f3ojdigqat7j)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1233.5" y="860.0781"/><rect fill="#FFFFFF" filter="url(#f1f3ojdigqat7j)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1233.5" y="918.3438"/><rect fill="#FFFFFF" filter="url(#f1f3ojdigqat7j)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1382.5" y="322.6875"/><rect fill="#FFFFFF" filter="url(#f1f3ojdigqat7j)" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1566.5" y="380.9531"/><rect fill="#FFFFFF" filter="url(#f1f3ojdigqat7j)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1666.5" y="497.4844"/><rect fill="#FFFFFF" filter="url(#f1f3ojdigqat7j)" height="145.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1785.5" y="830.9453"/><rect fill="#FFFFFF" filter="url(#f1f3ojdigqat7j)" height="246.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1974" y="555.75"/><rect fill="#FFFFFF" filter="url(#f1f3ojdigqat7j)" height="144.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2706.5" y="569.75"/><rect fill="#FFFFFF" filter="url(#f1f3ojdigqat7j)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="3010.5" y="743.5469"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="36" x2="36" y1="145.8906" y2="1182.4063"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="362" x2="362" y1="145.8906" y2="1182.4063"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="574.5" x2="574.5" y1="145.8906" y2="1182.4063"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="760.5" x2="760.5" y1="145.8906" y2="1182.4063"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="979.5" x2="979.5" y1="145.8906" y2="1182.4063"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1136.5" x2="1136.5" y1="145.8906" y2="1182.4063"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1238.5" x2="1238.5" y1="145.8906" y2="1182.4063"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1387" x2="1387" y1="145.8906" y2="1182.4063"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1571.5" x2="1571.5" y1="145.8906" y2="1182.4063"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1671.5" x2="1671.5" y1="145.8906" y2="1182.4063"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1790.5" x2="1790.5" y1="145.8906" y2="1182.4063"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1978.5" x2="1978.5" y1="145.8906" y2="1182.4063"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2178.5" x2="2178.5" y1="145.8906" y2="1182.4063"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2367.5" x2="2367.5" y1="145.8906" y2="1182.4063"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2556.5" x2="2556.5" y1="145.8906" y2="1182.4063"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2711.5" x2="2711.5" y1="145.8906" y2="1182.4063"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="3015" x2="3015" y1="145.8906" y2="1182.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="8" y="142.5889">FinTech</text><ellipse cx="36" cy="72.5938" fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M36,80.5938 L36,107.5938 M23,88.5938 L49,88.5938 M36,107.5938 L23,122.5938 M36,107.5938 L49,122.5938 " fill="none" filter="url(#f1f3ojdigqat7j)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="8" y="1194.4014">FinTech</text><ellipse cx="36" cy="1207.7031" fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M36,1215.7031 L36,1242.7031 M23,1223.7031 L49,1223.7031 M36,1242.7031 L23,1257.7031 M36,1242.7031 L49,1257.7031 " fill="none" filter="url(#f1f3ojdigqat7j)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="315" y="106.5938"/><rect fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="311" y="110.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="318" y="130.5889">TppBackend</text><rect fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="315" y="1181.4063"/><rect fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="311" y="1185.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="318" y="1205.4014">TppBackend</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="177" x="483.5" y="142.5889">TppBankingApiAisController</text><ellipse cx="575" cy="113.5938" fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="571,101.5938,577,96.5938,575,101.5938,577,106.5938,571,101.5938" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="177" x="483.5" y="1194.4014">TppBankingApiAisController</text><ellipse cx="575" cy="1213.7031" fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="571,1201.7031,577,1196.7031,575,1201.7031,577,1206.7031,571,1201.7031" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="162" x="676.5" y="142.5889">ConsentServiceController</text><ellipse cx="760.5" cy="113.5938" fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="756.5,101.5938,762.5,96.5938,760.5,101.5938,762.5,106.5938,756.5,101.5938" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="162" x="676.5" y="1194.4014">ConsentServiceController</text><ellipse cx="760.5" cy="1213.7031" fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="756.5,1201.7031,762.5,1196.7031,760.5,1201.7031,762.5,1206.7031,756.5,1201.7031" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="173" x="891.5" y="110.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="159" x="898.5" y="130.5889">FacadeResponseMapper</text><rect fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="173" x="891.5" y="1181.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="159" x="898.5" y="1201.4014">FacadeResponseMapper</text><rect fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="1082.5" y="106.5938"/><rect fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="1078.5" y="110.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="1085.5" y="130.5889">FacadeService</text><rect fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="1082.5" y="1181.4063"/><rect fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="1078.5" y="1185.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="1085.5" y="1205.4014">FacadeService</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="1204.5" y="142.5889">Database</text><path d="M1220.5,93.5938 C1220.5,83.5938 1238.5,83.5938 1238.5,83.5938 C1238.5,83.5938 1256.5,83.5938 1256.5,93.5938 L1256.5,119.5938 C1256.5,129.5938 1238.5,129.5938 1238.5,129.5938 C1238.5,129.5938 1220.5,129.5938 1220.5,119.5938 L1220.5,93.5938 " fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1220.5,93.5938 C1220.5,103.5938 1238.5,103.5938 1238.5,103.5938 C1238.5,103.5938 1256.5,103.5938 1256.5,93.5938 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="1204.5" y="1194.4014">Database</text><path d="M1220.5,1207.7031 C1220.5,1197.7031 1238.5,1197.7031 1238.5,1197.7031 C1238.5,1197.7031 1256.5,1197.7031 1256.5,1207.7031 L1256.5,1233.7031 C1256.5,1243.7031 1238.5,1243.7031 1238.5,1243.7031 C1238.5,1243.7031 1220.5,1243.7031 1220.5,1233.7031 L1220.5,1207.7031 " fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1220.5,1207.7031 C1220.5,1217.7031 1238.5,1217.7031 1238.5,1217.7031 C1238.5,1217.7031 1256.5,1217.7031 1256.5,1207.7031 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="165" x="1303" y="110.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="151" x="1310" y="130.5889">ServiceContextProvider</text><rect fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="165" x="1303" y="1181.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="151" x="1310" y="1201.4014">ServiceContextProvider</text><rect fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="1510.5" y="110.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="1517.5" y="130.5889">ProtocolSelector</text><rect fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="1510.5" y="1181.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="1517.5" y="1201.4014">ProtocolSelector</text><rect fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="54" x="1642.5" y="110.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="1649.5" y="130.5889">Spring</text><rect fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="54" x="1642.5" y="1181.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="1649.5" y="1201.4014">Spring</text><rect fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="156" x="1710.5" y="110.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="142" x="1717.5" y="130.5889">ProtocolResultHandler</text><rect fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="156" x="1710.5" y="1181.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="142" x="1717.5" y="1201.4014">ProtocolResultHandler</text><rect fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="193" x="1880.5" y="110.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="179" x="1887.5" y="130.5889">Xs2aListAccountsEntrypoint</text><rect fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="193" x="1880.5" y="1181.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="179" x="1887.5" y="1201.4014">Xs2aListAccountsEntrypoint</text><rect fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="178" x="2087.5" y="110.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="164" x="2094.5" y="130.5889">Xs2aUpdateAuthorization</text><rect fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="178" x="2087.5" y="1181.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="164" x="2094.5" y="1201.4014">Xs2aUpdateAuthorization</text><rect fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="172" x="2279.5" y="110.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="158" x="2286.5" y="130.5889">Xs2aFromAspspRedirect</text><rect fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="172" x="2279.5" y="1181.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="158" x="2286.5" y="1201.4014">Xs2aFromAspspRedirect</text><rect fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="178" x="2465.5" y="110.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="164" x="2472.5" y="130.5889">Xs2aResultBodyExtractor</text><rect fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="178" x="2465.5" y="1181.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="164" x="2472.5" y="1201.4014">Xs2aResultBodyExtractor</text><rect fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="2661.5" y="106.5938"/><rect fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="2657.5" y="110.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="2664.5" y="130.5889">Xs2aServices</text><rect fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="2661.5" y="1181.4063"/><rect fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="2657.5" y="1185.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="2664.5" y="1205.4014">Xs2aServices</text><rect fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="123" x="2952" y="110.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="2959" y="130.5889">OutcomeMapper</text><rect fill="#FEFECE" filter="url(#f1f3ojdigqat7j)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="123" x="2952" y="1181.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="2959" y="1201.4014">OutcomeMapper</text><rect fill="#FFFFFF" filter="url(#f1f3ojdigqat7j)" height="886.9844" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="357" y="235.2891"/><rect fill="#FFFFFF" filter="url(#f1f3ojdigqat7j)" height="828.7188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="570" y="264.4219"/><rect fill="#FFFFFF" filter="url(#f1f3ojdigqat7j)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="975" y="1034.875"/><rect fill="#FFFFFF" filter="url(#f1f3ojdigqat7j)" height="712.1875" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1131.5" y="293.5547"/><rect fill="#FFFFFF" filter="url(#f1f3ojdigqat7j)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1233.5" y="410.0859"/><rect fill="#FFFFFF" filter="url(#f1f3ojdigqat7j)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1233.5" y="598.8828"/><rect fill="#FFFFFF" filter="url(#f1f3ojdigqat7j)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1233.5" y="860.0781"/><rect fill="#FFFFFF" filter="url(#f1f3ojdigqat7j)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1233.5" y="918.3438"/><rect fill="#FFFFFF" filter="url(#f1f3ojdigqat7j)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1382.5" y="322.6875"/><rect fill="#FFFFFF" filter="url(#f1f3ojdigqat7j)" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1566.5" y="380.9531"/><rect fill="#FFFFFF" filter="url(#f1f3ojdigqat7j)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1666.5" y="497.4844"/><rect fill="#FFFFFF" filter="url(#f1f3ojdigqat7j)" height="145.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1785.5" y="830.9453"/><rect fill="#FFFFFF" filter="url(#f1f3ojdigqat7j)" height="246.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1974" y="555.75"/><rect fill="#FFFFFF" filter="url(#f1f3ojdigqat7j)" height="144.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2706.5" y="569.75"/><rect fill="#FFFFFF" filter="url(#f1f3ojdigqat7j)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="3010.5" y="743.5469"/><rect fill="#EEEEEE" filter="url(#f1f3ojdigqat7j)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="3081" x="3" y="176.457"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="3084" y1="176.457" y2="176.457"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="3084" y1="179.457" y2="179.457"/><rect fill="#EEEEEE" filter="url(#f1f3ojdigqat7j)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="245" x="1421" y="165.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="227" x="1427" y="181.9575">FinTech asks for user account list</text><polygon fill="#0000FF" points="345,231.2891,355,235.2891,345,239.2891,349,235.2891" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 1.0;" x1="36" x2="351" y1="235.2891" y2="235.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="43" y="215.0903">GET /accounts</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="198" x="43" y="230.2231">(Fintech user info, bank id, etc.)</text><polygon fill="#0000FF" points="558,260.4219,568,264.4219,558,268.4219,562,264.4219" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 1.0;" x1="367" x2="564" y1="264.4219" y2="264.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="374" y="259.356">getAccounts</text><polygon fill="#0000FF" points="1119.5,289.5547,1129.5,293.5547,1119.5,297.5547,1123.5,293.5547" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 1.0;" x1="580" x2="1125.5" y1="293.5547" y2="293.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="587" y="288.4888">Facade.execute()</text><polygon fill="#0000FF" points="1370.5,318.6875,1380.5,322.6875,1370.5,326.6875,1374.5,322.6875" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 1.0;" x1="1141.5" x2="1376.5" y1="322.6875" y2="322.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="222" x="1148.5" y="317.6216">Create facade context from request</text><polygon fill="#0000FF" points="1152.5,347.8203,1142.5,351.8203,1152.5,355.8203,1148.5,351.8203" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 1.0;" x1="1146.5" x2="1386.5" y1="351.8203" y2="351.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="1158.5" y="346.7544">ServiceContext</text><polygon fill="#0000FF" points="1554.5,376.9531,1564.5,380.9531,1554.5,384.9531,1558.5,380.9531" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 1.0;" x1="1141.5" x2="1560.5" y1="380.9531" y2="380.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="318" x="1148.5" y="375.8872">Select bank protocol from request type and bank id</text><polygon fill="#0000FF" points="1254.5,406.0859,1244.5,410.0859,1254.5,414.0859,1250.5,410.0859" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 1.0;" x1="1248.5" x2="1565.5" y1="410.0859" y2="410.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="304" x="1260.5" y="405.02">Read bank protocol using bank uuid and action id</text><polygon fill="#0000FF" points="1554.5,435.2188,1564.5,439.2188,1554.5,443.2188,1558.5,439.2188" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 1.0;" x1="1238.5" x2="1560.5" y1="439.2188" y2="439.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="1245.5" y="434.1528">BankProtocol</text><polygon fill="#0000FF" points="1152.5,464.3516,1142.5,468.3516,1152.5,472.3516,1148.5,468.3516" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 1.0;" x1="1146.5" x2="1570.5" y1="468.3516" y2="468.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="1158.5" y="463.2856">BankProtocol</text><polygon fill="#0000FF" points="1654.5,493.4844,1664.5,497.4844,1654.5,501.4844,1658.5,497.4844" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 1.0;" x1="1141.5" x2="1660.5" y1="497.4844" y2="497.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="408" x="1148.5" y="492.4185">Find bean - Bean(BankProtocol.protocolBeanName) extends Action</text><polygon fill="#0000FF" points="1152.5,522.6172,1142.5,526.6172,1152.5,530.6172,1148.5,526.6172" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 1.0;" x1="1146.5" x2="1670.5" y1="526.6172" y2="526.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="278" x="1158.5" y="521.5513">It is Xs2aListAccountsEntrypoint service bean</text><polygon fill="#0000FF" points="1962,551.75,1972,555.75,1962,559.75,1966,555.75" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 1.0;" x1="1141.5" x2="1968" y1="555.75" y2="555.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="330" x="1148.5" y="550.6841">Xs2aListAccountsEntrypoint.execute(ServiceContext)</text><polygon fill="#0000FF" points="2694.5,565.75,2704.5,569.75,2694.5,573.75,2698.5,569.75" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 1.0;" x1="1984" x2="2700.5" y1="569.75" y2="569.75"/><polygon fill="#0000FF" points="1254.5,594.8828,1244.5,598.8828,1254.5,602.8828,1250.5,598.8828" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 1.0;" x1="1248.5" x2="2705.5" y1="598.8828" y2="598.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="1260.5" y="593.8169">Consent for service session</text><polygon fill="#0000FF" points="2694.5,624.0156,2704.5,628.0156,2694.5,632.0156,2698.5,628.0156" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 1.0;" x1="1238.5" x2="2700.5" y1="628.0156" y2="628.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="69" x="1245.5" y="622.9497">No consent</text><line style="stroke: #0000FF; stroke-width: 1.0;" x1="2716.5" x2="2758.5" y1="672.2813" y2="672.2813"/><line style="stroke: #0000FF; stroke-width: 1.0;" x1="2758.5" x2="2758.5" y1="672.2813" y2="685.2813"/><line style="stroke: #0000FF; stroke-width: 1.0;" x1="2717.5" x2="2758.5" y1="685.2813" y2="685.2813"/><polygon fill="#0000FF" points="2727.5,681.2813,2717.5,685.2813,2727.5,689.2813,2723.5,685.2813" style="stroke: #0000FF; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="2723.5" y="652.0825">Validate API input -</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="280" x="2723.5" y="667.2153">do we have enough data (Mocked execution)</text><polygon fill="#0000FF" points="1995,710.4141,1985,714.4141,1995,718.4141,1991,714.4141" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 1.0;" x1="1989" x2="2710.5" y1="714.4141" y2="714.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="336" x="2001" y="709.3481">ValidationIssue[] -&gt; User input has missing parameters</text><polygon fill="#0000FF" points="2998.5,739.5469,3008.5,743.5469,2998.5,747.5469,3002.5,743.5469" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 1.0;" x1="1984" x2="3004.5" y1="743.5469" y2="743.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="1991" y="738.481">Translate ValidationIssue[]</text><polygon fill="#0000FF" points="1995,768.6797,1985,772.6797,1995,776.6797,1991,772.6797" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 1.0;" x1="1989" x2="3014.5" y1="772.6797" y2="772.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="214" x="2001" y="767.6138">ContextBasedValidationErrorResult</text><polygon fill="#0000FF" points="1152.5,797.8125,1142.5,801.8125,1152.5,805.8125,1148.5,801.8125" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 1.0;" x1="1146.5" x2="1978" y1="801.8125" y2="801.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="214" x="1158.5" y="796.7466">ContextBasedValidationErrorResult</text><polygon fill="#0000FF" points="1773.5,826.9453,1783.5,830.9453,1773.5,834.9453,1777.5,830.9453" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 1.0;" x1="1141.5" x2="1779.5" y1="830.9453" y2="830.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="489" x="1148.5" y="825.8794">Translate ContextBasedValidationErrorResult -&gt; FacadeStartAuthorizationResult</text><polygon fill="#0000FF" points="1254.5,856.0781,1244.5,860.0781,1254.5,864.0781,1250.5,860.0781" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 1.0;" x1="1248.5" x2="1784.5" y1="860.0781" y2="860.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="1260.5" y="855.0122">Authorization session present?</text><polygon fill="#0000FF" points="1773.5,885.2109,1783.5,889.2109,1773.5,893.2109,1777.5,889.2109" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 1.0;" x1="1238.5" x2="1779.5" y1="889.2109" y2="889.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="1245.5" y="884.145">No authorization session</text><polygon fill="#0000FF" points="1254.5,914.3438,1244.5,918.3438,1254.5,922.3438,1250.5,918.3438" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 1.0;" x1="1248.5" x2="1784.5" y1="918.3438" y2="918.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="1260.5" y="913.2778">Create authorization session</text><polygon fill="#0000FF" points="1773.5,943.4766,1783.5,947.4766,1773.5,951.4766,1777.5,947.4766" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 1.0;" x1="1238.5" x2="1779.5" y1="947.4766" y2="947.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="1245.5" y="942.4106">New authorization session</text><polygon fill="#0000FF" points="1152.5,972.6094,1142.5,976.6094,1152.5,980.6094,1148.5,976.6094" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 1.0;" x1="1146.5" x2="1789.5" y1="976.6094" y2="976.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="1158.5" y="971.5435">FacadeStartAuthorizationResult</text><polygon fill="#0000FF" points="591,1001.7422,581,1005.7422,591,1009.7422,587,1005.7422" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 1.0;" x1="585" x2="1135.5" y1="1005.7422" y2="1005.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="244" x="597" y="1000.6763">process FacadeStartAuthorizationResult</text><polygon fill="#0000FF" points="963,1030.875,973,1034.875,963,1038.875,967,1034.875" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 1.0;" x1="580" x2="969" y1="1034.875" y2="1034.875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="251" x="587" y="1029.8091">translate FacadeStartAuthorizationResult</text><polygon fill="#0000FF" points="591,1060.0078,581,1064.0078,591,1068.0078,587,1064.0078" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 1.0;" x1="585" x2="979" y1="1064.0078" y2="1064.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="371" x="597" y="1058.9419">This is 202 code with redirection to Embedded authorization</text><polygon fill="#0000FF" points="378,1089.1406,368,1093.1406,378,1097.1406,374,1093.1406" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 1.0;" x1="372" x2="574" y1="1093.1406" y2="1093.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="384" y="1088.0747">202 Embedded authorization</text><polygon fill="#0000FF" points="47,1118.2734,37,1122.2734,47,1126.2734,43,1122.2734" style="stroke: #0000FF; stroke-width: 1.0;"/><line style="stroke: #0000FF; stroke-width: 1.0;" x1="41" x2="361" y1="1122.2734" y2="1122.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="297" x="53" y="1117.2075">202 Embedded authorization with dynamic form</text><line style="stroke: #0000FF; stroke-width: 1.0;" x1="36" x2="78" y1="1151.4063" y2="1151.4063"/><line style="stroke: #0000FF; stroke-width: 1.0;" x1="78" x2="78" y1="1151.4063" y2="1164.4063"/><line style="stroke: #0000FF; stroke-width: 1.0;" x1="37" x2="78" y1="1164.4063" y2="1164.4063"/><polygon fill="#0000FF" points="47,1160.4063,37,1164.4063,47,1168.4063,43,1164.4063" style="stroke: #0000FF; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="33" x="43" y="1146.3403">Store</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="119" x="80" y="1146.3403">service session id</text><rect fill="#DDDDDD" height="42.5938" rx="5" ry="5" style="stroke: #000000; stroke-width: 1.0;" width="369" x="11" y="11"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="102" x="17" y="28.9951">Initial request</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="357" x="17" y="45.292">TppBackend that enters embedded authorization mode</text><!--MD5=[e770445c472ed0d1e09c0fe4546fbf93]
@startuml
legend top left
  <b>Initial request</b>
  TppBackend that enters embedded authorization mode
endlegend

actor FinTech

collections TppBackend

box "TPP API"
control TppBankingApiAisController
control ConsentServiceController
participant FacadeResponseMapper
endbox

box "OPBA-Facade"
collections FacadeService
database Database
participant ServiceContextProvider
participant ProtocolSelector
participant Spring
participant ProtocolResultHandler
endbox

box "XS2A-Protocol"
participant Xs2aListAccountsEntrypoint
participant Xs2aUpdateAuthorization
participant Xs2aFromAspspRedirect
participant Xs2aResultBodyExtractor
collections Xs2aServices
participant OutcomeMapper
endbox

== FinTech asks for user account list ==
FinTech [#blue]-> TppBackend ++ : GET /accounts\n(Fintech user info, bank id, etc.)
TppBackend [#blue]-> TppBankingApiAisController ++ : getAccounts
TppBankingApiAisController [#blue]-> FacadeService ++ : Facade.execute()
FacadeService [#blue]-> ServiceContextProvider ++ : Create facade context from request
FacadeService <-[#blue] ServiceContextProvider - - : ServiceContext
FacadeService [#blue]-> ProtocolSelector ++ : Select bank protocol from request type and bank id
ProtocolSelector [#blue]-> Database ++ : Read bank protocol using bank uuid and action id
Database [#blue]-> ProtocolSelector - - : BankProtocol
ProtocolSelector [#blue]-> FacadeService - - : BankProtocol
FacadeService [#blue]-> Spring ++ : Find bean - Bean(BankProtocol.protocolBeanName) extends Action
FacadeService <-[#blue] Spring - - : It is Xs2aListAccountsEntrypoint service bean
FacadeService [#blue]-> Xs2aListAccountsEntrypoint ++ : Xs2aListAccountsEntrypoint.execute(ServiceContext)
Xs2aListAccountsEntrypoint [#blue]-> Xs2aServices ++
Xs2aServices [#blue]-> Database ++ : Consent for service session
Xs2aServices <-[#blue] Database - - : No consent
Xs2aServices [#blue]-> Xs2aServices : Validate API input -\ndo we have enough data (Mocked execution)
Xs2aServices [#blue]-> Xs2aListAccountsEntrypoint - - : ValidationIssue[] -> User input has missing parameters
Xs2aListAccountsEntrypoint [#blue]-> OutcomeMapper ++ : Translate ValidationIssue[]
OutcomeMapper [#blue]-> Xs2aListAccountsEntrypoint - - : ContextBasedValidationErrorResult
Xs2aListAccountsEntrypoint [#blue]-> FacadeService - - : ContextBasedValidationErrorResult
FacadeService [#blue]-> ProtocolResultHandler ++ : Translate ContextBasedValidationErrorResult -> FacadeStartAuthorizationResult
ProtocolResultHandler [#blue]-> Database ++ : Authorization session present?
Database [#blue]-> ProtocolResultHandler - - : No authorization session
ProtocolResultHandler [#blue]-> Database ++ : Create authorization session
ProtocolResultHandler <-[#blue] Database - - : New authorization session
ProtocolResultHandler [#blue]-> FacadeService - - : FacadeStartAuthorizationResult
FacadeService [#blue]-> TppBankingApiAisController - - : process FacadeStartAuthorizationResult
TppBankingApiAisController [#blue]-> FacadeResponseMapper ++ : translate FacadeStartAuthorizationResult
FacadeResponseMapper [#blue]-> TppBankingApiAisController - - : This is 202 code with redirection to Embedded authorization
TppBankingApiAisController [#blue]-> TppBackend - - : 202 Embedded authorization
TppBackend [#blue]-> FinTech - - : 202 Embedded authorization with dynamic form
FinTech [#blue]-> FinTech: Store <b>service session id</b>
@enduml

PlantUML version 1.2019.11(Sun Sep 22 13:02:15 EEST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.5+10-b520.30
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>